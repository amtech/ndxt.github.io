<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>基础算法类</title>
    
    
    <link rel="preload" href="/assets/css/53.styles.73c7797a.css" as="style"><link rel="preload" href="/assets/js/app.2b7bf2f1.js" as="script"><link rel="preload" href="/assets/js/7.59d873a0.js" as="script"><link rel="prefetch" href="/assets/js/21.493656e1.js"><link rel="prefetch" href="/assets/js/0.8c6cb2b1.js"><link rel="prefetch" href="/assets/js/1.8d122193.js"><link rel="prefetch" href="/assets/js/2.da38c94d.js"><link rel="prefetch" href="/assets/js/3.7ba6dd4e.js"><link rel="prefetch" href="/assets/js/4.98f99baa.js"><link rel="prefetch" href="/assets/js/5.675307fa.js"><link rel="prefetch" href="/assets/js/6.0e2f11c8.js"><link rel="prefetch" href="/assets/js/8.606c9271.js"><link rel="prefetch" href="/assets/js/9.a25aea9f.js"><link rel="prefetch" href="/assets/js/10.2e240b38.js"><link rel="prefetch" href="/assets/js/11.69d46380.js"><link rel="prefetch" href="/assets/js/12.8666a845.js"><link rel="prefetch" href="/assets/js/13.fb9fa187.js"><link rel="prefetch" href="/assets/js/14.8cb80df4.js"><link rel="prefetch" href="/assets/js/15.3291b330.js"><link rel="prefetch" href="/assets/js/16.b051d1ed.js"><link rel="prefetch" href="/assets/js/17.a7e106c7.js"><link rel="prefetch" href="/assets/js/18.9d38a6f7.js"><link rel="prefetch" href="/assets/js/19.c5a8b8f0.js"><link rel="prefetch" href="/assets/js/20.b2b2e123.js"><link rel="prefetch" href="/assets/js/22.15a5ad8a.js"><link rel="prefetch" href="/assets/js/23.cd702e46.js"><link rel="prefetch" href="/assets/js/24.f6c597b9.js"><link rel="prefetch" href="/assets/js/25.6b4f6e65.js"><link rel="prefetch" href="/assets/js/26.10a40be6.js"><link rel="prefetch" href="/assets/js/27.cdfdf4a3.js"><link rel="prefetch" href="/assets/js/28.170fbd88.js"><link rel="prefetch" href="/assets/js/29.874f2874.js"><link rel="prefetch" href="/assets/js/30.8c2f80d9.js"><link rel="prefetch" href="/assets/js/31.3881f235.js"><link rel="prefetch" href="/assets/js/32.68859a3e.js"><link rel="prefetch" href="/assets/js/33.8bba4ee1.js"><link rel="prefetch" href="/assets/js/34.38351c6b.js"><link rel="prefetch" href="/assets/js/35.4efe87b7.js"><link rel="prefetch" href="/assets/js/36.0a2188a4.js"><link rel="prefetch" href="/assets/js/37.3197e625.js"><link rel="prefetch" href="/assets/js/38.d5a0ea00.js"><link rel="prefetch" href="/assets/js/39.eb7ebd4d.js"><link rel="prefetch" href="/assets/js/40.2b2b571a.js"><link rel="prefetch" href="/assets/js/41.39f09d33.js"><link rel="prefetch" href="/assets/js/42.423da9a7.js"><link rel="prefetch" href="/assets/js/43.91307f1b.js"><link rel="prefetch" href="/assets/js/44.457017c3.js"><link rel="prefetch" href="/assets/js/45.38dd7ecf.js"><link rel="prefetch" href="/assets/js/46.8c8ddb07.js"><link rel="prefetch" href="/assets/js/47.3c660fb3.js"><link rel="prefetch" href="/assets/js/48.2a80bd22.js"><link rel="prefetch" href="/assets/js/49.49314a9f.js"><link rel="prefetch" href="/assets/js/50.8c10f143.js"><link rel="prefetch" href="/assets/js/51.258a80e6.js"><link rel="prefetch" href="/assets/js/52.d4216a4c.js">
    <link rel="stylesheet" href="/assets/css/53.styles.73c7797a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-navbar no-sidebar"><!----><div class="sidebar"><!----><ul class="sidebar-links"><li><a href="/GUIDE.html" class="sidebar-link">/GUIDE.html</a></li><li><a href="/QandA.html" class="sidebar-link">常见问题及解决办法</a></li><li><a href="/" class="sidebar-link">/</a></li><li><a href="/UPDATE_LOG.html" class="sidebar-link">历史更新记录</a></li><li><a href="/pieces/data_drive_sql_1.html" class="sidebar-link">动机</a></li><li><a href="/pieces/data_drive_sql_2.html" class="sidebar-link">动机</a></li><li><a href="/pieces/data_drive_sql_3.html" class="sidebar-link">动机</a></li><li><a href="/pieces/data_drive_sql_4.html" class="sidebar-link">动机</a></li><li><a href="/pieces/framework_1.html" class="sidebar-link">适用场景</a></li><li><a href="/pieces/framework_10.html" class="sidebar-link">/pieces/framework_10.html</a></li><li><a href="/pieces/framework_11.html" class="sidebar-link">/pieces/framework_11.html</a></li><li><a href="/pieces/framework_2.html" class="sidebar-link">概述</a></li><li><a href="/pieces/framework_3.html" class="sidebar-link">概述</a></li><li><a href="/pieces/framework_4.html" class="sidebar-link">概述</a></li><li><a href="/pieces/framework_5.html" class="sidebar-link">概述</a></li><li><a href="/pieces/framework_6.html" class="sidebar-link">/pieces/framework_6.html</a></li><li><a href="/pieces/framework_7.html" class="sidebar-link">/pieces/framework_7.html</a></li><li><a href="/pieces/framework_8.html" class="sidebar-link">/pieces/framework_8.html</a></li><li><a href="/pieces/framework_9.html" class="sidebar-link">/pieces/framework_9.html</a></li><li><a href="/pieces/huan_cun.html" class="sidebar-link">动机</a></li><li><a href="/pieces/lexer_java.html" class="sidebar-link">动机</a></li><li><a href="/pieces/multi_datasource.html" class="sidebar-link">动机</a></li><li><a href="/pieces/page_query_1.html" class="sidebar-link">动机</a></li><li><a href="/pieces/page_query_2.html" class="sidebar-link">动机</a></li><li><a href="/pieces/permutation_combination.html" class="sidebar-link">动机</a></li><li><a href="/pieces/sort_as_tree.html" class="sidebar-link">问题</a></li><li><a href="/pieces/spring_jdbc_jpa.html" class="sidebar-link">动机</a></li><li><a href="/projects/" class="sidebar-link">项目总体介绍</a></li><li><a href="/projects/centit-cas.html" class="sidebar-link">单点登录CAS</a></li><li><a href="/projects/centit-compiler.html" class="sidebar-link">表达式编译器</a></li><li><a href="/projects/centit-database.html" class="sidebar-link">数据库通用算法</a></li><li><a href="/projects/centit-dde.html" class="sidebar-link">数据交换工具</a></li><li><a href="/projects/centit-fileserver.html" class="sidebar-link">文件服务器</a></li><li><a href="/projects/centit-framework-cloud.html" class="sidebar-link">框架spring cloud版本</a></li><li><a href="/projects/centit-framework-system.html" class="sidebar-link">框架系统管理平台</a></li><li><a href="/projects/centit-framework.html" class="sidebar-link">研发框架</a></li><li><a href="/projects/centit-integration-platform.html" class="sidebar-link">集成平台</a></li><li><a href="/projects/centit-meta-form.html" class="sidebar-link">自定义表单服务</a></li><li><a href="/projects/centit-msgpusher.html" class="sidebar-link">消息推送服务</a></li><li><a href="/projects/centit-presistence.html" class="sidebar-link">数据库持久化公共类</a></li><li><a href="/projects/centit-scaffold.html" class="sidebar-link">代码脚手架</a></li><li><a href="/projects/centit-search.html" class="sidebar-link">全文检索类</a></li><li><a href="/projects/centit-stat.html" class="sidebar-link">统计报表服务</a></li><li><a href="/projects/centit-ui-easyui.html" class="sidebar-link">基于EasyUI的前段框架</a></li><li><a href="/projects/centit-ui-vue.html" class="sidebar-link">基于Vue的前段框架</a></li><li><a href="/projects/centit-utils.html" class="active sidebar-link">基础算法类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/projects/centit-utils.html#通用算法" class="sidebar-link">通用算法</a></li></ul></li><li><a href="/projects/centit-webim.html" class="sidebar-link">即时通讯</a></li><li><a href="/projects/centit-workflow.html" class="sidebar-link">工作流引擎</a></li><li><a href="/projects/centit-workorder.html" class="sidebar-link">工单系统</a></li><li><a href="/system_design/" class="sidebar-link">框架的总体设计</a></li><li><a href="/system_design/concept_design.html" class="sidebar-link">概念设计</a></li><li><a href="/system_design/product_design.html" class="sidebar-link">产品设计</a></li><li><a href="/system_design/technical_design.html" class="sidebar-link">技术路线</a></li></ul></div><div class="page"><div class="content"><h1 id="基础算法类"><a href="#基础算法类" aria-hidden="true" class="header-anchor">#</a> 基础算法类</h1><p>这类目前开源的有很多，比如apache的commons，我们的主要作为一个补充。目前centit-commons项目中主要有几个包：</p><p>1.<strong>centit-utils：</strong> 集合各种通用算法，比如：农历、日期、树形结构、网络、图片、加密等等算法。</p><p>2.<strong>centit-compiler：</strong> 这个包中包括一个词法分析器和一个表达式语法分析器。词法分析可以用于解析字符串，比如sql语句；表达式分析器可以作为一个建议的规则引擎使用。</p><p>3.<strong>centit-database：</strong> 这个包对一些常用的数据库操作进行了封装，内容包括：</p><p>a) 不同数据库的适配。比如：分页、计数等等。</p><p>b) DDL语句。这个一般业务系统是用不到，作为工具开发是比较有用，比如自定义表单。</p><p>c) 数据库的元数据访问。</p><p>d) 以JSON为对象的一个建议的ORM工具类。</p><p>e) 自定义的查询扩展（QueryUtils），对sql进行类扩展，引入类条件语句类似于MyBatis的If语句，和外部过滤条件用于数据权限引擎对数据进行过滤。</p><h2 id="通用算法"><a href="#通用算法" aria-hidden="true" class="header-anchor">#</a> 通用算法</h2><p>这类目前开源的有很多，比如apache的commons，我们的主要作为一个补充。目前centit-utils项目中主要包含通用的算法类，内容主要式公司开发过程中积累的一些通用的算法和模块，其中很多算法式从网络上检索来的。把它们收集在一起主要是为了统一使用方式和减少算法的bug。</p><h3 id="generalalgorithm类"><a href="#generalalgorithm类" aria-hidden="true" class="header-anchor">#</a> GeneralAlgorithm类</h3><p>目前这个类中只有两个方法 nvl 和 nvl2 方法的功能和oracle中的同名方法一样。</p><h3 id="datetimeopt类"><a href="#datetimeopt类" aria-hidden="true" class="header-anchor">#</a> DatetimeOpt类</h3><p>几乎每一个框架都有重写这个类，这个类中的方法比较多，可以归纳为一下几类：</p><ol><li>create* 这类方法式创建一个日期类，不同的方法有不同的参数</li><li>current* 获取当前时间，不同的方法返回不同的类型，可能是 utils.Date、sql.Data、timeStamp等等</li><li>convert* 在土工日期类型、日期和时间 等等之间进行转换</li><li>equal* 判断两个日期在不同时间精度上是否相等，比如是否是同一月、同一天、同一分钟等等。</li><li>calc* 一组关于日期的计算函数，比如：计算两个日期之间的时机差calcSpanDays， 计算两个日期之间的工作日 calcWeekDays， 计算两个日期之间的周末天数 calcWeekendDays，计算一周的第一天和最后一天等等。</li><li>add* 给日期做加减计算，参数为负数就是减。</li><li>get* 获得日期的属性，比如星期几、是一年的第几天、当前时分秒等等。</li><li>seek* 移动到这个月的最后一天、这年的最后一天等等。</li><li>truncate
<em>截取日期到天、周、月等等，和seek</em>
操作相对。</li><li>smartPraseDate 和 castObjectToDate 前者将字符串转换为日期，后者将object转换为日期。</li><li>compareTwoDate 比较两个日期大小 ,避免 发生 NullPointerException 异常。</li></ol><h3 id="lunar类"><a href="#lunar类" aria-hidden="true" class="header-anchor">#</a> Lunar类</h3><p>这个是从网络上检索来的一个计算农历的类。</p><h3 id="listopt类"><a href="#listopt类" aria-hidden="true" class="header-anchor">#</a> ListOpt类</h3><p>对list和array的通用操作，apachecommons和Array、collections有的通用方法都尽量避免重复。主要的方法有：</p><p>关联对象com.centit.support.common.TreeNode。</p><ol><li>sortAsTree* 将list按照树形结构进行排序，这个方式是这个类最重要的一个方法，也是这个类存在的一个原因。</li><li>compareTwoList 比较两个list，将他们相同的、删除的、新增的分别找出来，刚好对应sql的 update、delete和insert操作。</li><li>listToArray 和 arrayToList 通过反射的方式简化了传入的参数。</li><li>remove* 一组对集合元素清理操作。</li><li>moveListItem 和 changeListItem ，前者为移动元素位置两个元素之间的所有item位置都有变化，后者为仅仅交换两个元素的位置</li><li>clone* 复制集合。</li><li>storedAsTree、treeToJSONArray 对属性结构的存储或者序列化。</li></ol><h3 id="numberbaseopt类"><a href="#numberbaseopt类" aria-hidden="true" class="header-anchor">#</a> NumberBaseOpt类</h3><p>和Number相关的通用方法，主要方法有：</p><ol><li>capitalization 将数据转换为大写，用户发票中的大写输出。123.45 - 壹佰贰拾叁点肆伍</li><li>uppercaseCN 将数据转换为中文，比如 2017 - 二〇一七。</li><li>getNumByte 获取数据字符串中某一位上的数值，比如获取十位上的数据参数就传入 2</li><li>castObjectTo* 一组类型转换算法</li><li>compareTwo* 数据之间比较，主要是为了避免 NullPointerException。</li><li>parse* 转换字符串为数值类型， 主要是为了避免 NullPointerException。</li></ol><h3 id="reflectionopt类"><a href="#reflectionopt类" aria-hidden="true" class="header-anchor">#</a> ReflectionOpt类</h3><p>一组反射方面缺失功能的封装。关联对象com.centit.support.common.JavaBeanMetaData</p><ol><li>getSetterMethod 、 getGetterMethod、getAllGetterMethod和getAllSetterMethod 获取对象的getter、setter方法</li><li>getFieldValue、setFieldValue、getBooleanFieldValue、forceGetProperty、forceSetProperty 获取属性和设置属性。</li><li>invoke*Method、invoke*Func 用反射调用方法。</li><li>is* 判断类型，isPrimitiveType 判断一个类型是否是基础类型， isScalarType 判断一个类型是否为标量类型 等等。</li><li>getCurrentMethodName 获取当前方法的名称。</li><li>attainExpressionValue 根据表达式获取属性的值，类似于el表达式。</li><li>createObjectFromMap 根据一个map创建一个对象。和 JavaBeanMetaData 类中的createBeanObjectFromMap 功能相同，但是实现的方式不一样，使用时可以仔细比较一下。</li></ol><h3 id="stringbaseopt类和stringregularopt类。"><a href="#stringbaseopt类和stringregularopt类。" aria-hidden="true" class="header-anchor">#</a> StringBaseOpt类和StringRegularOpt类。</h3><p>StringBaseOpt类中主要是对字符串和字符串数组的操作，StringRegularOpt类主要是对字符串的规则验证。<br>
StringBaseOpt类中需要特别介绍的方法有：</p><ol><li>getFirstLetter 获取中文的拼音的首字母。</li><li>nextCode 获取字符串的下个值。</li><li>castObjectToString 将对象转换为字符串，添加了对null值的特别处理，不会自动转换为“null”。</li></ol></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/projects/centit-ui-vue.html" class="prev">
          基于Vue的前段框架
        </a></span><span class="next"><a href="/projects/centit-webim.html">
          即时通讯
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/7.59d873a0.js" defer></script><script src="/assets/js/app.2b7bf2f1.js" defer></script>
  </body>
</html>
