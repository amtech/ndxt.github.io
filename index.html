<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./demo.css">
    <link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.css/font-awesome.min.css" type="text/css">
    <script src="https://code.jquery.com/jquery-2.1.0.js" integrity="sha256-D6d1KSapXjq2tfZ6Ie9AYozkRHyB3fT2ys9mO2+4Wvc=" crossorigin="anonymous"></script>
    <script src="index.js"></script>
</head>
<body>
<header>
    <p>南大先腾框架文档</p>
</header>

<div id="box">
    <div id="left">
        <i class="minbox"></i>
    </div>
    <div id="content">
        <iframe  frameborder=0 scrolling=auto src=/centit-commons/centit-compile.md></iframe>，
    </div>
    <div id="right">
        <span class="title">章节索引</span>
        <ul>
            <li></li>
        </ul>
    </div>
</div>
</body>
</html>
<script>

$(function () {
$.getJSON("./content.json",function (result) {
    var title = '<span class="title">'+result.title+'</span>';
    $('#left').prepend(title);
    var content = result.content;
    $.each(content,function (i,data){
    var li ='<ul class="level1"><button class="minbox"></button><span>'+data.title+'</span></ul>';
    $('#left').append(li);
    $.each(data.subItems,function (i,datas) {
       var level2 = '<li><a href="'+ datas.link +'">' + datas.title + '</a></li>';
        $('.level1').append(level2)
    });
   });
    $('.level1 > li a').click(function (event) {
        event.preventDefault();
        var src = $(this).attr("href");
        $('#content iframe').attr('src',src);
    })
    $('button').click(function () {
        $(this).parent().find('li').css('display','block')
    });

});
});
</script>